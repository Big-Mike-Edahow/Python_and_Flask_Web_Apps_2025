<!-- view.html -->

{% extends "base.html" %}
{% block title %} View Post {% endblock %}

{% block content %}

<section class="center">
    <h1 class="headline-h1"> {{ post.title }} </h1>
    <br><br>
</section>
<section class="content">
    <div class="post">
        <p><b>#{{ post.id }}</b></p>
        <p class="title"><b>Title: </b>{{ post.title }}</p>
        <p><b>Author: </b>{{ post.author }}</p>
        <p>{{ post.content }}</p>
        <p class="created">Created: {{ post.created }}</p>
        <hr>
        {% for comment in post.comments %}
        <div class="comment">
            <h2>Comments</h2>
            <p><b>Author: </b>{{ comment.author }}</p>
            <p><b>Comment: </b>{{ comment.content }}</p>
            <p>Created: <i>{{ comment.created }}</i></p>
            <br>
            <form method="POST" action="{{ url_for('delete_comment',
                                    comment_id=comment.id) }}">
                <input type="submit" value="Delete Comment"
                    onclick="return confirm('Are you sure you want to delete this comment?')">
            </form>
            <br>
            {% endfor %}
            <div class="comment-form">
                <form method="post">
                    <p>
                        <label for="author">Author: </label>
                        <input type="text" name="author" required>
                    </p>
                    <p><label for="content">Content: </label>
                        <textarea name="content" placeholder="Comment" cols="40" rows="2" required></textarea>
                    </p>
                    <br>
                    <p>
                        <input type="submit" value="Add comment">
                    </p>
                </form>
            </div>
        </div>
</section>

{% endblock %}